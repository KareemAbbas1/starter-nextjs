(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{3490:function(a,b,c){"use strict";c.d(b,{W:function(){return d}});var d=c(9521).ZP.div.withConfig({displayName:"orderComplete__Container",componentId:"sc-1q3fudk-0"})(["max-width:100vw;min-height:100vh;position:relative;margin-bottom:5rem;padding-top:8rem;padding-inline:2rem;display:flex;flex-direction:",";justify-content:space-between;gap:1.5rem;@media(min-width:1400px){padding-inline:15rem;}@media(max-width:600px){flex-direction:column;padding-inline:1rem;}div.order-data{width:65%;min-height:100vh;display:flex;flex-flow:column nowrap;align-items:",";text-align:",";@media(max-width:600px){width:100%;}h1{padding-bottom:1rem;border-bottom:1px solid #ccc;width:100%}ul{margin:0;padding:0% 4%;direction:",";li{margin-inline:0;margin-bottom:1rem;}}pre{font-family:inherit;}div.calc-total-cost{width:100%;border-top:1px solid;display:flex;flex-direction:column;align-items:flex-end;p{width:40%}h2{min-width:40%;}@media(max-width:600px){align-items:",";}}div.total-cost{min-width:40%;align-self:flex-end;margin-top:1rem;border-top:1px solid #ccc;h2{float:right;}}}div.client-info{width:35%;display:flex;flex-direction:column;align-items:",";min-height:fit-content;border:1px dashed #ccc;padding-inline:1rem;text-align:",";h1{width:100%;padding-bottom:1rem;border-bottom:1px solid #ccc;}h2{color:grey;margin:0;font-weight:lighter;}h3{margin:0;margin-bottom:2rem;}button{width:100%;font-size:1.5rem;font-weight:bold;height:3rem;color:#fff;background-color:#F26630;border:none;transition:all 300ms ease-in-out;cursor:pointer;margin-bottom:1rem;&:hover{opacity:0.5;}&:disabled{opacity:0.5;cursor:auto;}}button#cancel-order{width:100%;font-size:1.5rem;font-weight:unset;height:3rem;color:#000;background-color:#fff;border:1px solid;transition:all 300ms ease-in-out;cursor:pointer;&:hover{opacity:0.5;}&:disabled{opacity:0.5;cursor:auto;}}}div.cancel-order-modal{display:none;width:100%;height:100%;top:0;left:0;position:fixed;align-items:center;justify-content:center;border:1px solid;div{width:40%;height:30vh;background-color:#ccc;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid #000;border-radius:5px;span{width:1rem;height:1rem;position:relative;left:46%;bottom:10%;background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;border:1px solid;border-radius:5px;cursor:pointer;transition:all 300ms ease;&:hover{background-color:transparent;color:#000;border:1px solid #000;}}p{font-size:1.3rem;}button{width:20%;height:2.5rem;font-size:1.3rem;background-color:#000;color:#fff;cursor:pointer;transition:all 300ms ease;&:hover{opacity:0.5;}}}}div.order-sent{width:100%;height:100%;display:flex;flex-direction:column;text-align:center;align-items:center;font-size:1.2rem;div{width:10rem;height:10rem;border:1px solid #F26630;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:4rem;color:#F26630;}}"],function(a){return"English"===a.language?"row":"row-reverse"},function(a){return"العربية"===a.language&&"flex-end"},function(a){return"العربية"===a.language&&"right"},function(a){return"العربية"===a.language&&"rtl"},function(a){return"English"===a.language?"flex-start":"flex-end"},function(a){return"العربية"===a.language&&"flex-end"},function(a){return"العربية"===a.language&&"right"})},2548:function(a,b,c){"use strict";c.r(b);var d=c(29),e=c(7794),f=c.n(e),g=c(7294),h=c(3490),i=c(1163),j=c(9669),k=c.n(j),l=c(5893),m=function(a){var b=a.language,c=(0,g.useState)(),e=c[0],j=c[1],m=(0,g.useState)(!1),n=m[0],o=m[1],p=(0,i.useRouter)();(0,g.useEffect)(function(){localStorage.getItem("Trip Order Data")?j(JSON.parse(localStorage.getItem("Trip Order Data"))):localStorage.getItem("Trip Order Data")|| !1!==n||p.push("/")},[n,p]);var q=e&&e.orderDetails.duration,r=e&&e.orderDetails.extraOptions,s=e&&e.orderDetails.ticketPrice,t=e&&e.orderDetails.startDate,u=e&&e.orderDetails.adultsTicketsCount,v=e&&e.orderDetails.childrenTicketsCount,w=e&&e.orderDetails.title[0],x=e&&e.orderDetails.title[1],y=e&&e.orderDetails.tripId;e&&e.state;var z,A=e&&e.clientInfo.fullName,B=e&&e.clientInfo.email,C=e&&e.clientInfo.phoneNumber,D=function(a,b){for(var c=0;c<a.length;c++){var d=void 0,e=void 0,f=void 0;if(d=a[0].price,e=a[1].price,f=a.length>2&&a[2].price,c<a.length-1&&a.length>2)return(d+e+f)*b;if(c<a.length-1&&a.length<=2)return(d+e)*b}},E=(z=(0,d.Z)(f().mark(function a(b){var c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.preventDefault(),a.prev=1,c=e&&v>0&&r.length>0?u*s+v*s+(r.length>1?D(r,u):r[0].price*u):e&&v>0&&r.length<=0?u*s+v*s:e&&v<=0&&r.length>0?u*s+(r.length>1?D(r,u):r[0].price*u):u*s,a.next=5,k().post("".concat("https://powerful-sunglasses-newt.cyclic.app","/api/trip-order?tripId=").concat(y),{orderDetails:{title:[w,x],startDate:t,duration:q,ticketPrice:s,tickets:{adults:u,children:v},extraOptions:r,total:Number(c)},clientInfo:{fullName:A,email:B,phoneNumber:C},state:"Not Paid",tripId:y});case 5:localStorage.removeItem("Trip Order Data"),o(!0),document.body.scrollTop=0,document.documentElement.scrollTop=0,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),console.error(a.t0);case 14:case"end":return a.stop()}},a,null,[[1,11]])})),function(a){return z.apply(this,arguments)}),F=function(a){document.getElementById("cancel-trip-order-modal").style.display="flex",document.querySelector("body").style.overflowY="hidden"},G=function(a){document.getElementById("cancel-trip-order-modal").style.display="none",document.querySelector("body").style.overflowY="auto"},H=function(a){a.preventDefault(),localStorage.removeItem("Trip Order Data"),document.querySelector("body").style.overflowY="auto",p.push("".concat("https://powerful-sunglasses-newt.cyclic.app","/trip/").concat(y))};return(0,l.jsx)(h.W,{language:b,children:!1===n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"order-data",children:[(0,l.jsx)("h1",{children:"English"===b?"#Checkout":"تأكيد الحجز"}),(0,l.jsx)("h2",{children:e&&"English"===b?w:x}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("h4",{style:{display:"inline"},children:"English"===b?"Date:":"تاريخ التحرك:"})," ",(0,l.jsx)("span",{children:t})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("h4",{style:{display:"inline"},children:"English"===b?"Duration:":"مدة الرحلة:"})," ",q," ","English"===b?"Days":"أيام"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("h4",{style:{display:"inline"},children:"English"===b?"Tickets:":"التذاكر:"}),(0,l.jsx)("p",{children:"English"===b?"- ".concat(u," ").concat(u>1?"adults":"adult"," x EGP ").concat(s," = EGP ").concat(u*s):"- ".concat(u," ").concat(u>1?"بالغين":"بالغ"," * ").concat(s," جنيه = ").concat(u*s," جنيه")}),v>0&&(0,l.jsx)("p",{children:"English"===b?"- ".concat(v," ").concat(v>1?"children":"child"," x EGP ").concat(s," = EGP ").concat(v*s):"- ".concat(v," ").concat(v>1?"أطفال":"طفل"," * ").concat(s," جنيه = ").concat(v*s," جنيه")})]}),e&&r.length>0&&(0,l.jsxs)("li",{children:[(0,l.jsx)("h4",{style:{display:"inline"},children:"English"===b?"Extra Options:":"إختيارات إضافية:"}),r.map(function(a){return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"English"===b?"".concat(r.indexOf(a)+1,"- ").concat(a.text[0],", EGP ").concat(a.price," per person."):"".concat(r.indexOf(a)+1,"- ").concat(a.text[1]," ، ").concat(a.price," جنيه للفرد")}),(0,l.jsx)("pre",{children:"English"===b?"   - Total price: EGP ".concat(a.price," x ").concat(u," ").concat(u>1?"adults":"adult"," = EGP ").concat(u*a.price):"   - السعر الكلي: ".concat(a.price," جنيه * ").concat(u," ").concat(u>1?"بالغين":"بالغ"," = ").concat(u*a.price," جنيه")})]},a.text)}),r.length>1&&(0,l.jsxs)("h5",{children:["English"===b?"Extra options total ptice = ":"إجمالي سعر الإختيارات الإضافية = ",r.length>1?"".concat("English"===b?"EGP":"","\n                                                        ").concat(D(r,u),"\n                                                        ").concat("العربية"===b?"جنيه":""):"".concat("English"===b?"EGP":"","\n                                                ").concat(r[0].price*u,"\n                                                ").concat("العربية"===b?"جنيه":"")]})]})]}),(0,l.jsxs)("div",{className:"calc-total-cost",children:[(0,l.jsx)("h2",{children:"English"===b?"Total:":":الإجمالي"}),(0,l.jsxs)("p",{style:{marginBlock:"1%"},dir:"العربية"===b?"rtl":"ltr",children:["English"===b?"- ".concat(u," ").concat("adults"," = "):"- ".concat(u," ").concat(u>1?"بالغين":"بالغ"," = ")," ","English"===b?"EGP":""," ",u*s," ","العربية"===b?"جنيه":""]}),v>0&&(0,l.jsxs)("p",{style:{marginBlock:"1%"},dir:"العربية"===b?"rtl":"ltr",children:["English"===b?"- ".concat(v," ").concat(v>1?"children":"child"," = "):"- ".concat(v," ").concat(v>1?"أطفال":"طفل"," = ")," ","English"===b?"EGP":""," ",v*s," ","العربية"===b?"جنيه":""]}),e&&r.length>0&&(0,l.jsxs)("p",{style:{marginBlock:"1%"},dir:"العربية"===b?"rtl":"ltr",children:["English"===b?"- Extra options = ":"- إختيارات إضافية = ",r.length>1?"".concat("English"===b?"EGP":"","\n                                                        ").concat(D(r,u),"\n                                                        ").concat("العربية"===b?"جنيه":""):"".concat("English"===b?"EGP":"","\n                                                ").concat(r[0].price*u,"\n                                                ").concat("العربية"===b?"جنيه":"")]})]}),(0,l.jsx)("div",{className:"total-cost",children:(0,l.jsxs)("h2",{className:"total-price",id:"order-total-price",dir:"العربية"===b?"rtl":"ltr",style:{float:"".concat("العربية"===b?"left":null)},children:["English"===b?"EGP ":"",e&&v>0&&r.length>0?u*s+v*s+(r.length>1?D(r,u):r[0].price*u):e&&v>0&&r.length<=0?u*s+v*s:e&&v<=0&&r.length>0?u*s+(r.length>1?D(r,u):r[0].price*u):u*s," ","العربية"===b?"جنيه":""]})})]}),(0,l.jsxs)("div",{className:"client-info",children:[(0,l.jsx)("h1",{children:"English"===b?"Client Information":"بيانات العميل"}),(0,l.jsx)("h2",{children:"English"===b?"Reservation by:":":حجز باسم"}),(0,l.jsx)("br",{}),(0,l.jsxs)("h3",{children:[" ",A]}),(0,l.jsx)("h2",{children:"English"===b?"Email Addres:":":بريد إلكتروني"}),(0,l.jsx)("br",{}),(0,l.jsxs)("h3",{children:[" ",B]}),(0,l.jsx)("h2",{children:"English"===b?"Phone Number:":":رقم الهاتف"}),(0,l.jsx)("br",{}),(0,l.jsxs)("h3",{children:[" ",C]}),(0,l.jsx)("h2",{children:"English"===b?"Amount to pay:":":المبلغ المستحق"}),(0,l.jsx)("br",{}),(0,l.jsxs)("h3",{dir:"العربية"===b?"rtl":"ltr",children:["English"===b?"EGP ":"",e&&v>0&&r.length>0?u*s+v*s+(r.length>1?D(r,u):r[0].price*u):e&&v>0&&r.length<=0?u*s+v*s:e&&v<=0&&r.length>0?u*s+(r.length>1?D(r,u):r[0].price*u):u*s," ","العربية"===b?"جنيه":"",(0,l.jsxs)("span",{children:["(",e&&"English"===b?e.state:"آجل",")"]})]}),(0,l.jsx)("h2",{children:"English"===b?"Payment Method:":":طريقة الدفع"}),(0,l.jsx)("br",{}),(0,l.jsx)("h3",{children:"English"===b?"Our employee will contact you":"سيتواصل معك احد موظفينا"}),(0,l.jsx)("button",{onClick:function(a){return E(a)},disabled:null===e,children:"English"===b?"Confirm Booking":"تأكيد الحجز"}),(0,l.jsx)("button",{id:"cancel-order",onClick:function(a){return F(a)},disabled:null===e,children:"English"===b?"Cancel Booking":"إلغاء الحجز"})]}),(0,l.jsx)("div",{id:"cancel-trip-order-modal",className:"cancel-order-modal",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{id:"close-cancel-trip-order-modal",onClick:function(a){return G(a)},children:"x"}),(0,l.jsx)("p",{children:"English"===b?"Are you sure you want to cancel this order?":"!تأكيد الغاء الحجز"}),(0,l.jsx)("button",{id:"confirm-cancel-trip-order",onClick:function(a){return H(a)},children:"English"===b?"Yes":"نعم"})]})})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"order-sent",children:[(0,l.jsx)("div",{children:"✓"}),"English"===b?(0,l.jsxs)("p",{children:["Your order has been submitted successfully,",(0,l.jsx)("br",{}),"One of our employees will contact you soon.",(0,l.jsx)("br",{}),"Thank you for booking with us."]}):(0,l.jsxs)("p",{children:[".تم تسجيل طلبك بنجاح ، سيتصل بك احد موظفينا قريبا",(0,l.jsx)("br",{}),".شكرا للحجز معنا"]})]})})})};b.default=m},8263:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trip-order-complete",function(){return c(2548)}])}},function(a){a.O(0,[646,774,888,179],function(){var b;return a(a.s=8263)}),_N_E=a.O()}])