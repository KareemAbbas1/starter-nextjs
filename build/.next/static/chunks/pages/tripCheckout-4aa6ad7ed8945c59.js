(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{7848:function(a,b,c){"use strict";c.d(b,{W:function(){return d}});var d=c(9521).ZP.div.withConfig({displayName:"campCheckout__Container",componentId:"sc-1qvx98c-0"})(["max-width:100vw;min-height:100vh;position:relative;margin-bottom:5rem;padding-top:8rem;padding-inline:2rem;display:flex;flex-direction:",";justify-content:",";gap:1.5rem;@media(min-width:1400px){padding-inline:15rem;}@media(max-width:600px){flex-direction:column;padding-inline:1rem;}div.proccess-success{width:50%;height:100%;display:flex;flex-direction:column;align-items:center;text-align:center;div{width:7rem;height:7rem;display:flex;align-items:center;justify-content:center;font-size:4rem;color:#F26630;border:1px solid #F26630;border-radius:50%;}button{font-size:large;font-weight:bold;padding:0.5rem 1rem;color:#fff;background-color:#F26630;border:1px solid #F26630;cursor:pointer;transition:all 300ms ease-in-out;&:hover{background-color:transparent;color:#000;}&:disabled{opacity:0.5;cursor:unset;}}}div.order-details{width:65%;min-height:100vh;display:flex;flex-flow:column nowrap;align-items:",";text-align:",";@media(max-width:600px){width:100%;}h1{padding-bottom:1rem;border-bottom:1px solid #ccc;width:100%}ul{margin:0;padding:0% 4%;direction:",";li{margin-inline:0;margin-bottom:1rem;}}pre{font-family:inherit;}div.total{width:100%;border-top:1px solid;display:flex;flex-direction:column;align-items:flex-end;p#calculating{width:40%;text-align:center;@media(max-width:990px){width:60%;}}div:nth-child(1){width:40%;border-bottom:1px solid #ccc;@media(max-width:990px){width:60%;}@media(max-width:600px){width:100%;}}div:nth-child(2){width:40%;text-align:center;@media(max-width:990px){width:60%;}}h2.total-price{text-align:right;}}}div.client-info{width:35%;max-height:140vh;padding-inline:1.5rem;position:-webkit-sticky;position:sticky;top:0;display:flex;flex-direction:column;align-items:",";text-align:",";border:1px dashed #ccc;@media(min-width:1450px){height:fit-content;padding-bottom:3rem;}@media(max-width:600px){width:100%;padding-inline:0rem;border:none;border-top:1px dashed #ccc;}form{width:100%;h2{text-align:center;}input{min-width:calc(100% - 0.8rem);margin-block:1rem;padding-block:1rem;padding-inline-start:0.8rem;font-size:1rem;border:1px solid #ccc;border-radius:5px;direction:",";}h4{border-bottom:1px solid #ccc;padding-bottom:1rem;}h3{font-size:1.5rem;font-weight:300;}p{width:fit-content;color:#F26630;font-weight:bold;margin-bottom:0;padding-bottom:8px;border-bottom:2px solid;@media(min-width:990px){margin-left:",";}}div{max-width:100%;padding-top:1rem;margin-bottom:3rem;border-top:1px solid #ccc;display:flex;flex-direction:",";label{cursor:pointer;direction:",";a{margin-left:5px;color:#000;font-weight:bold;}}input{min-width:unset;margin-block:0;padding-block:0;padding-inline-start:0;border:1px solid #ccc;border-radius:5px;cursor:pointer;}}button{width:100%;font-size:1.5rem;height:3rem;color:#fff;background-color:#F26630;border:none;transition:all 300ms ease-in-out;cursor:pointer;margin-bottom:1rem;&:hover{opacity:0.5;}&:disabled{opacity:0.5;cursor:auto;}}button.cancel-order{width:100%;font-size:1.5rem;height:3rem;color:#000;background-color:#fff;border:1px solid;transition:all 300ms ease-in-out;cursor:pointer;&:hover{opacity:0.5;}&:disabled{opacity:0.5;cursor:auto;}}}}div.modal{display:none;width:100%;height:100%;top:0;left:0;position:fixed;align-items:center;justify-content:center;border:1px solid;div{width:40%;height:30vh;background-color:#ccc;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid #000;border-radius:5px;span{width:1rem;height:1rem;position:relative;left:46%;bottom:10%;background-color:#000;color:#fff;display:flex;align-items:center;justify-content:center;border:1px solid;border-radius:5px;cursor:pointer;transition:all 300ms ease;&:hover{background-color:transparent;color:#000;border:1px solid #000;}}p{font-size:1.3rem;}button{width:20%;height:2.5rem;font-size:1.3rem;background-color:#000;color:#fff;cursor:pointer;transition:all 300ms ease;&:hover{opacity:0.5;}}}}"],function(a){return"English"===a.language?"row":"row-reverse"},function(a){return!1===a.orderIsSent?"space-between":"center"},function(a){return"العربية"===a.language&&"flex-end"},function(a){return"العربية"===a.language&&"right"},function(a){return"العربية"===a.language&&"rtl"},function(a){return"English"===a.language?"flex-start":"flex-end"},function(a){return"English"===a.language?"left":"right"},function(a){return"العربية"===a.language&&"rtl"},function(a){return"العربية"===a.language&&"77.5%"},function(a){return"العربية"===a.language&&"row-reverse"},function(a){return"العربية"===a.language&&"rtl"})},3048:function(a,b,c){"use strict";c.r(b);var d=c(9499),e=c(29),f=c(7794),g=c.n(f),h=c(7294),i=c(7848),j=c(7536),k=c(1664),l=c.n(k),m=c(1163),n=c(9669),o=c.n(n),p=c(5893);function q(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function r(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?q(Object(c),!0).forEach(function(b){(0,d.Z)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):q(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var s=function(a){var b=a.language,c=(0,h.useState)(),d=c[0],f=c[1],k=(0,h.useState)(!1),n=k[0],q=k[1],s=(0,h.useState)(null);s[0],s[1];var t=(0,m.useRouter)();(0,h.useEffect)(function(){f(JSON.parse(localStorage.getItem("Trip submition data")))},[]),null===d&&t.push("/");var u,v=d&&d.duration,w=d&&d.extraOptions,x=d&&d.price,y=d&&d.startDate,z=d&&d.tickets.adults,A=d&&d.tickets.children,B=d&&d.tirpTitle[0],C=d&&d.tirpTitle[1],D=function(a,b){for(var c=0;c<a.length;c++){var d=void 0,e=void 0,f=void 0;if(d=a[0].price,e=a[1].price,f=a.length>2&&a[2].price,c<a.length-1&&a.length>2)return(d+e+f)*b;if(c<a.length-1&&a.length<=2)return(d+e)*b}},E=(u=(0,e.Z)(g().mark(function a(b){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.target.disabled=!0,c=JSON.parse(localStorage.getItem("Order Data")),a.prev=2,a.next=5,o().post("/api/submitCampOrder",{guestInfo:c.guestInfo});case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),console.error(a.t0);case 10:setTimeout(function(){b.target.disabled=!1},6e4),setTimeout(function(){t.push("/")},42e4);case 12:case"end":return a.stop()}},a,null,[[2,7]])})),function(a){return u.apply(this,arguments)}),F=function(){document.getElementById("trip-terms").checked&&null!==d?document.getElementById("submit-trip-order").disabled=!1:document.getElementById("submit-trip-order").disabled=!0},G=function(a){a.preventDefault(),document.getElementById("cancel-trip-modal").style.display="flex",document.querySelector("body").style.overflowY="hidden"},H=function(a){document.getElementById("cancel-trip-modal").style.display="none",document.querySelector("body").style.overflowY="auto"},I=function(){t.back(),localStorage.removeItem("Trip submition data"),document.querySelector("body").style.overflowY="auto"},J=(0,j.cI)(),K=J.register,L=J.handleSubmit,M=J.formState.errors,N=J.getValues,O=J.reset,P=(0,h.useState)(!0),Q=P[0],R=P[1],S=(0,h.useState)(!0),T=S[0],U=S[1],V=(0,h.useState)(!0),W=V[0],X=V[1];function Y(){return(Y=(0,e.Z)(g().mark(function a(b){var c,e;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==(c=document.getElementById("trip-confirm-email").value)){a.next=3;break}return a.abrupt("return",R(!1));case 3:if(!(!0!==T|| !0!==Q)){a.next=7;break}X(!1),a.next=20;break;case 7:return X(!0),document.getElementById("submit-trip-order").disabled=!0,a.prev=9,a.next=12,o().post("/api/submit-trip-order",{orderDetails:{duration:v,extraOptions:w,ticketPrice:x,startDate:y,adultsTicketsCount:z,childrenTicketsCount:A,title:[B,C],tripId:d&&d.tripId},clientInfo:{fullName:b.tripFullName,email:c,phoneNumber:b.tripConfirmPhone},state:"Not Paid"});case 12:e=a.sent,localStorage.setItem("Trip Order Data",JSON.stringify({orderDetails:{duration:v,extraOptions:w,ticketPrice:x,startDate:y,adultsTicketsCount:z,childrenTicketsCount:A,title:[B,C],tripId:d&&d.tripId},clientInfo:{fullName:b.tripFullName,email:c,phoneNumber:b.tripConfirmPhone},state:"Not Paid"})),200===e.status&&(console.log("Success"),O(),localStorage.removeItem("Trip submition data"),document.body.scrollTop=0,document.documentElement.scrollTop=0,q(!0)),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(9),console.error(a.t0);case 20:case"end":return a.stop()}},a,null,[[9,17]])}))).apply(this,arguments)}return(0,p.jsx)(i.W,{language:b,orderIsSent:!0,children:!0===n?(0,p.jsxs)("div",{className:"proccess-success",children:[(0,p.jsx)("div",{children:"✓"}),(0,p.jsx)("p",{children:"English"===b?"We have sent you an email with the confirmation link, please check your inbox or spam/junk mail folder.":"لقد أرسلنا لك رسالة بريد إلكتروني تحتوي على رابط التأكيد ، يرجى التحقق من صندوق الوارد الخاص بك أو مجلد البريد العشوائي / البريد غير الهام"}),(0,p.jsx)("p",{children:"English"===b?"If you did not recieve your email in the next few minutes, click the button below to resend.":"إذا لم تتلق بريدك الإلكتروني في الدقائق القليلة التالية ، فانقر فوق الزر أدناه لإعادة الإرسال"}),(0,p.jsxs)("button",{onClick:function(a){return E(a)},children:["English"===b?"Resend":"إعادة إرسال"," ↻"]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"order-details",language:b,children:[(0,p.jsx)("h1",{children:"English"===b?"# Checkout":"تأكيد الحجز #"}),(0,p.jsx)("h2",{children:d&&"English"===b?B:C}),(0,p.jsxs)("ul",{children:[(0,p.jsxs)("li",{children:[(0,p.jsx)("h4",{style:{display:"inline"},children:"English"===b?"Date:":"تاريخ التحرك:"})," ",(0,p.jsx)("span",{children:y})]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("h4",{style:{display:"inline"},children:"English"===b?"Duration:":"مدة الرحلة:"})," ",v," ","English"===b?"Days":"أيام"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("h4",{style:{display:"inline"},children:"English"===b?"Tickets:":"التذاكر:"}),(0,p.jsx)("p",{children:"English"===b?"- ".concat(z," ").concat(z>1?"adults":"adult"," x EGP ").concat(x," = EGP ").concat(z*x):"- ".concat(z," ").concat(z>1?"بالغين":"بالغ"," * ").concat(x," جنيه = ").concat(z*x," جنيه")}),A>0&&(0,p.jsx)("p",{children:"English"===b?"- ".concat(A," ").concat(A>1?"children":"child"," x EGP ").concat(x," = EGP ").concat(A*x):"- ".concat(A," ").concat(A>1?"أطفال":"طفل"," * ").concat(x," جنيه = ").concat(A*x," جنيه")})]}),d&&w.length>0&&(0,p.jsxs)("li",{children:[(0,p.jsx)("h4",{style:{display:"inline"},children:"English"===b?"Extra Options:":"إختيارات إضافية:"}),w.map(function(a){return(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:"English"===b?"".concat(w.indexOf(a)+1,"- ").concat(a.text[0],", EGP ").concat(a.price," per person."):"".concat(w.indexOf(a)+1,"- ").concat(a.text[1]," ، ").concat(a.price," جنيه للفرد")}),(0,p.jsx)("pre",{children:"English"===b?"   - Total price: EGP ".concat(a.price," x ").concat(z," ").concat(z>1?"adults":"adult"," = EGP ").concat(z*a.price):"   - السعر الكلي: ".concat(a.price," جنيه * ").concat(z," ").concat(z>1?"بالغين":"بالغ"," = ").concat(z*a.price," جنيه")})]},a.text)}),w.length>1&&(0,p.jsxs)("h5",{children:["English"===b?"Extra options total ptice = ":"إجمالي سعر الإختيارات الإضافية = ",w.length>1?"".concat("English"===b?"EGP":"","\n                                                        ").concat(D(w,z),"\n                                                        ").concat("العربية"===b?"جنيه":""):"".concat("English"===b?"EGP":"","\n                                                ").concat(w[0].price*z,"\n                                                ").concat("العربية"===b?"جنيه":"")]})]})]}),(0,p.jsxs)("div",{className:"total",children:[(0,p.jsxs)("div",{id:"calc-total-cost",children:[(0,p.jsx)("h1",{children:"English"===b?"Total":"الإجمالي"}),(0,p.jsxs)("p",{dir:"العربية"===b&&"rtl",children:["English"===b?"".concat(z," ").concat("adults"," = "):"".concat(z," ").concat(z>1?"بالغين":"بالغ"," = ")," ","English"===b?"EGP":""," ",z*x," ","العربية"===b?"جنيه":""]}),A>0&&(0,p.jsxs)("p",{dir:"العربية"===b&&"rtl",children:["English"===b?"".concat(A," ").concat(A>1?"children":"child"," = "):"".concat(A," ").concat(A>1?"أطفال":"طفل"," = ")," ","English"===b?"EGP":""," ",A*x," ","العربية"===b?"جنيه":""]}),d&&w.length>0&&(0,p.jsxs)("p",{dir:"العربية"===b&&"rtl",children:["English"===b?"Extra options = ":"إختيارات إضافية = ",w.length>1?"".concat("English"===b?"EGP":"","\n                                                        ").concat(D(w,z),"\n                                                        ").concat("العربية"===b?"جنيه":""):"".concat("English"===b?"EGP":"","\n                                                ").concat(w[0].price*z,"\n                                                ").concat("العربية"===b?"جنيه":"")]})]}),(0,p.jsx)("div",{children:(0,p.jsxs)("h2",{className:"total-price",dir:"العربية"===b&&"rtl",children:["English"===b?"EGP ":"",d&&A>0&&w.length>0?z*x+A*x+(w.length>1?D(w,z):w[0].price*z):d&&A>0&&w.length<=0?z*x+A*x:d&&A<=0&&w.length>0?z*x+(w.length>1?D(w,z):w[0].price*z):z*x," ","العربية"===b?"جنيه ":""]})})]})]}),(0,p.jsx)("div",{className:"client-info",children:(0,p.jsxs)("form",{onSubmit:L(function(a){return Y.apply(this,arguments)}),children:[(0,p.jsx)("h2",{children:"English"===b?"Contact Information":"ادخل بايانت الاتصال"}),(0,p.jsx)("input",r(r({type:"text",id:"trip-full-name",name:"trip-full-name",placeholder:"English"===b?"Full Name *":"الاسم الكامل*"},K("tripFullName",{required:{value:!0,message:"Please enter you full name"},minLength:{value:8,message:"This name is too short"},maxLength:{value:100,message:"This name is too long"}})),{},{style:{borderColor:"".concat(M.tripFullName?"red":"unset"),textAlign:"center"}})),M.tripFullName&&(0,p.jsx)("span",{style:{color:"red"},children:M.tripFullName.message}),(0,p.jsx)("input",r(r({type:"email",id:"trip-email",name:"trip-email",placeholder:"English"===b?"Email Address *":"*ادخل البريد الإلكتروني"},K("tripEmailfield",{required:{value:!0,message:"Please enter your email address"},minLength:{value:8,message:"This email is too short"},maxLength:{value:254,message:"This email is too long"},pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Please enter a valid email address"}})),{},{style:{borderColor:"".concat(M.tripEmailfield?"red":"unset"),direction:"ltr",textAlign:"center"}})),M.tripEmailfield&&(0,p.jsx)("span",{style:{color:"red"},children:M.tripEmailfield.message}),(0,p.jsx)("input",{type:"email",id:"trip-confirm-email",name:"trip-confirm-email",placeholder:"English"===b?"Re-type Emali Addres *":"*اعد كتابة البريد الإلكتروني",style:{borderColor:"".concat(M.tripConfirmEmail?"red":"unset"),direction:"ltr",textAlign:"center"},onChange:function(a){var b;N("tripEmailfield")!==a.target.value?R(!1):R(!0)}}),M.tripConfirmEmail&&(0,p.jsx)("span",{style:{color:"red"},children:M.tripConfirmEmail.message}),!0===Q||M.tripConfirmEmail?"":(0,p.jsx)("span",{style:{color:"red"},children:"Emails do not match"}),(0,p.jsx)("input",r(r({type:"tel",id:"trip-phone-number",name:"trip-phone-number",placeholder:"English"===b?"Phone Number * (Whatsapp number prefered)":"*رقم الهاتف"},K("tripPhone",{required:{value:!0,message:"Please enter your phone number"},minLength:{value:8,message:"This phone number is too short"},maxLength:{value:15,message:"This number is too long"},pattern:{value:/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,message:"Please enter a valid phone number"}})),{},{style:{borderColor:"".concat(M.tripPhone?"red":"unset"),direction:"ltr",textAlign:"center"}})),M.tripPhone&&(0,p.jsx)("span",{style:{color:"red"},children:M.tripPhone.message}),(0,p.jsx)("input",r(r({type:"tel",id:"trip-confirm-phone-number",name:"trip-confirm-phone-number",placeholder:"English"===b?"Re-type Phone Number *":"*اعد إدخال رقم الهاتف"},K("tripConfirmPhone",{required:{value:!0,message:"Please re-type your phone number"}})),{},{style:{borderColor:"".concat(M.tripConfirmPhone?"red":"unset"),direction:"ltr",textAlign:"center"},onChange:function(a){var b;N("tripPhone")!==a.target.value?U(!1):U(!0)}})),M.tripConfirmPhone&&(0,p.jsx)("span",{style:{color:"red"},children:M.tripConfirmPhone.message}),!0!==T?(0,p.jsx)("span",{style:{color:"red"},children:"Phone numbers do not match"}):"",(0,p.jsxs)("h4",{children:["English"===b?"Amount to pay ":"الإجمالي ","English"===b?"EGP ":"",d&&A>0&&w.length>0?z*x+A*x+(w.length>1?D(w,z):w[0].price*z):d&&A>0&&w.length<=0?z*x+A*x:d&&A<=0&&w.length>0?z*x+(w.length>1?D(w,z):w[0].price*z):z*x,"العربية"===b?" جنيه":""]}),(0,p.jsx)("h3",{children:"English"===b?"Payment Method":"طريقة الدفع"}),(0,p.jsx)("p",{style:{marginLeft:"".concat("العربية"===b?"87%":"0%")},children:"English"===b?"Pay later":"الدفع لاحقا"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("input",{type:"checkbox",id:"trip-terms",onChange:function(){return F()}}),(0,p.jsxs)("label",{htmlFor:"trip-terms",children:["English"===b?"I red and agree to the":"اوافق على ",(0,p.jsx)(l(),{href:"/",children:(0,p.jsx)("a",{id:"trip-terms-cond",target:"_blank",children:"English"===b?"Terms&Conditions":"الشروط والاحكام"})})]})]}),!0!==W&&(0,p.jsx)("span",{style:{color:"red"},children:"Plese fill all of the above fields with valid data"}),(0,p.jsx)("button",{type:"submit",id:"submit-trip-order",disabled:!0,children:"English"===b?"Place Order":"تاكيد الحجز"}),(0,p.jsx)("button",{id:"cancel-trip-order",className:"cancel-order",onClick:function(a){return G(a)},children:"English"===b?"Cancel order":"إلغاء الحجز"})]})}),(0,p.jsx)("div",{id:"cancel-tripOrder-modal",className:"modal",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{id:"close-cancelOrder-modal",className:"close-modal",children:"x"}),(0,p.jsx)("p",{children:"English"===b?"Are you sure you want to cancel this order?":"!تأكيد الغاء الحجز"}),(0,p.jsx)("button",{id:"confirm-cancel-tripOrder",className:"confirm-cancel",children:"English"===b?"Yes":"نعم"})]})}),(0,p.jsx)("div",{id:"cancel-trip-modal",className:"modal",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{onClick:H,id:"close-cancel-modal",className:"close-modal",children:"x"}),(0,p.jsx)("p",{children:"English"===b?"Are you sure you want to cancel this order?":"!تأكيد الغاء الحجز"}),(0,p.jsx)("button",{id:"confirm-cancel-order",className:"confirm-cancel",onClick:I,children:"English"===b?"Yes":"نعم"})]})})]})})};b.default=s},722:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tripCheckout",function(){return c(3048)}])}},function(a){a.O(0,[646,536,774,888,179],function(){var b;return a(a.s=722)}),_N_E=a.O()}])